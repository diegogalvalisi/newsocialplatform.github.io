const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["push_notifications-index-CIbZT9Js.js","useSelectableClick-B6P4zPV6.js","index-BdTwX--g.js","client-wT6vtYO_.js","short_number-w3W5phxu.js","numbers-CGZQWBYL.js","message-UFwkQlnu.js","api-CRXxxt1J.js","index-DHr9lByg.js","initial_state-DlXwbTYM.js","ready-DpOgoWSg.js","index-k7MDtqjv.js","load_locale-DzdJ_tNT.js","index-DizoKcfL.js"])))=>i.map(i=>d[i]);
var It=Object.defineProperty;var Pt=(n,p,t)=>p in n?It(n,p,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[p]=t;var C=(n,p,t)=>Pt(n,typeof p!="symbol"?p+"":p,t);import{i as it,a as Ce,l as Rt}from"../load_locale-DzdJ_tNT.js";import{j as e,c as $t,_ as Oe}from"../client-wT6vtYO_.js";import{g as Ft,r as S,u as ae,d as G,i as W}from"../index-BdTwX--g.js";import{I as ct,S as Dt,u as je,a as q,f as qt,A as te,O as lt,b as Ht,r as Gt,c as Bt,V as Ut,d as F,w as ie,e as Se,o as Te,g as Ie,h as zt,i as Pe,j as Re,m as Wt,k as Vt,l as Qt,n as ut,p as Ee,q as Zt,t as Kt,s as Jt,v as Yt,x as Xt,y as en,z as tn,B as nn,C as rn,D as on,E as sn,F as an,G as cn,H as ln,J as un,K as dn,L as hn,M as pn,N as mn,P as fn,Q as gn,R as vn,T as H,U as _n,W as xn,X as bn,Y as yn,Z as wn,_ as Cn,$ as jn}from"../useSelectableClick-B6P4zPV6.js";import{H as dt}from"../Helmet-BPcSXOin.js";import{S as Sn}from"../react-router-scroll-4.es-TtIR03_4.js";import{c as Tn}from"../streaming-BO9kPKO5.js";import{v as En,s as Mn,d as ne,a as re,m as $,r as ht,b as $e,c as kn,e as Fe,f as Nn,t as Ln,g as pt,h as An,i as On,o as ce,j as z,k as In,l as De}from"../initial_state-DlXwbTYM.js";import{M as k}from"../message-UFwkQlnu.js";import{c as Me}from"../index-DizoKcfL.js";import{i as Pn}from"../index.es-jC-3jdAF.js";import{I as Rn}from"../onboarding-WpaPIoJr.js";import{B as mt,A as $n,L as Fn,M as Dn}from"../modal_container-CFwJ3SEy.js";import{L as R,S as _e,u as ke,w as ft,P as le,a as qn,R as Ne,b as P}from"../short_number-w3W5phxu.js";import{u as gt,a as Hn,S as Gn}from"../notifications-BfoOGc2u.js";import{A as Bn}from"../avatar_group-PUipFlog.js";import{F as Un,a as zn}from"../counters-BJ0cOeaq.js";import{D as vt,a as Wn,S as Vn,b as Qn,c as Zn,d as _t,L as xe,B as xt,F as bt,e as yt,H as be,C as Kn,P as qe,N as wt,f as Ct,g as jt,G as Jn,K as Yn,A as Xn,h as er,T as tr,i as ue,j as nr,k as He,l as rr,m as or,n as sr,o as ar,O as ir,p as cr,E as lr,q as ur,r as de,s as dr,t as hr,u as pr,v as mr,w as Ge,R as Be,x as Ue,y as fr,z as gr,I as vr,J as _r,M as xr,Q as br}from"../content_warning-ZTicWjps.js";import{F as yr}from"../follow_button-a1YFYE10.js";import{L as wr}from"../loading_indicator-B8eiIm_U.js";import{u as he}from"../useTimeout-F7jeHEBA.js";import{F as Cr}from"../media_modal-IkoHtKhs.js";import{S as jr}from"../close-BsPe8EbX.js";import{B as oe}from"../bundle_column_error-DFqEzfqC.js";import{S as St}from"../hashtags-DlzQcrtL.js";import{W as Tt,S as Sr}from"../card-CkADhdIo.js";import{s as Tr}from"../scroll-BygYx8ga.js";import{C as Er,S as Mr,u as kr,a as Nr}from"../column_header-C7GOytU3.js";import{C as Lr}from"../column-B4vwzadM.js";import{A as Ar}from"../account-ZmiGlI4V.js";import{S as Or}from"../server_hero_image-C79vrt-k.js";import{S as B}from"../skeleton-D9NbTYr9.js";import{S as Ir}from"../search-D9HG1-cx.js";import{C as Pr}from"../compose_form_container-CgQUmJ3C.js";import{L as Rr}from"../link_footer-CecZL9fr.js";import{S as $r}from"../bookmarks-fill-DgzxJ_c4.js";import{S as Fr}from"../explore-dJlFnUG2.js";import{S as Dr}from"../gavel-BYJTFhVW.js";import{S as qr}from"../home-fill-BjwEpYg3.js";import{S as Et}from"../list_alt-yox9TcbF.js";import{T as Hr,C as O,S as Gr}from"../column_link-CX_E86CI.js";import{S as Br}from"../notifications-fill-BPpVqP74.js";import{S as Ur}from"../person_add-fill-D1U4oKl8.js";import{S as zr}from"../person_add-Bq7Kcwwn.js";import{I as se}from"../icon_with_badge-BwjtQY5Q.js";import{c as Wr,a as Vr}from"../permissions-Djze7cmB.js";import{s as Qr}from"../notifications-BifGXwxy.js";import"../status-BIiYdEFJ.js";import{I as Zr}from"../intl_provider-RzzUespS.js";import{r as Kr}from"../ready-DpOgoWSg.js";import{l as Jr}from"../index-k7MDtqjv.js";import"../api-CRXxxt1J.js";import"../index-DHr9lByg.js";import"../interopRequireDefault-CdiRfGvq.js";import"../react-textarea-autosize.browser.esm-BstEnzvw.js";import"../use-isomorphic-layout-effect.browser.esm-D-sFEUJ5.js";import"../button-BZWHsOPk.js";import"../embedded_status-SCClhjvI.js";import"../embedded_status_content-CTmx_BJU.js";import"../gif-jbXd3UCY.js";import"../numbers-CGZQWBYL.js";import"../index-CScpaqXb.js";import"../chevron_left-CnYIoVsW.js";import"../use-gesture-react.esm-C5Sp2-dr.js";import"../add-D8GR9P00.js";import"../verified_badge-CgQGA5hk.js";import"../emoji_picker_dropdown_container-DRAMctGN.js";import"../dropdown_selector-B6TvV1BL.js";import"../info-HtHaDKcq.js";import"../fuzzysort-BUgAtj0X.js";import"../navigation_bar-B1B9Qn3z.js";import"../edit-Cyfwv5F_.js";import"../hashtag-BzW8t4Na.js";import"../index-DwQAxx91.js";import"../avatar_overlay-Dn6Un17I.js";import"../toString-Bzr_gKEF.js";import"../status_content-CuPzxAXM.js";import"../poll-B31-y1NM.js";import"../visibility_icon-CBCcgH2V.js";var K={exports:{}},J={exports:{}},Y={exports:{}},Yr=Y.exports,ze;function Le(){return ze||(ze=1,function(n,p){(function(t,r){n.exports=r()})(Yr,function(){function t(a){return!isNaN(parseFloat(a))&&isFinite(a)}function r(a){return a.charAt(0).toUpperCase()+a.substring(1)}function c(a){return function(){return this[a]}}var l=["isConstructor","isEval","isNative","isToplevel"],m=["columnNumber","lineNumber"],v=["fileName","functionName","source"],g=["args"],_=["evalOrigin"],s=l.concat(m,v,g,_);function u(a){if(a)for(var x=0;x<s.length;x++)a[s[x]]!==void 0&&this["set"+r(s[x])](a[s[x]])}u.prototype={getArgs:function(){return this.args},setArgs:function(a){if(Object.prototype.toString.call(a)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=a},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(a){if(a instanceof u)this.evalOrigin=a;else if(a instanceof Object)this.evalOrigin=new u(a);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var a=this.getFileName()||"",x=this.getLineNumber()||"",y=this.getColumnNumber()||"",i=this.getFunctionName()||"";return this.getIsEval()?a?"[eval] ("+a+":"+x+":"+y+")":"[eval]:"+x+":"+y:i?i+" ("+a+":"+x+":"+y+")":a+":"+x+":"+y}},u.fromString=function(x){var y=x.indexOf("("),i=x.lastIndexOf(")"),h=x.substring(0,y),w=x.substring(y+1,i).split(","),b=x.substring(i+1);if(b.indexOf("@")===0)var T=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(b,""),N=T[1],M=T[2],L=T[3];return new u({functionName:h,args:w||void 0,fileName:N,lineNumber:M||void 0,columnNumber:L||void 0})};for(var o=0;o<l.length;o++)u.prototype["get"+r(l[o])]=c(l[o]),u.prototype["set"+r(l[o])]=function(a){return function(x){this[a]=!!x}}(l[o]);for(var d=0;d<m.length;d++)u.prototype["get"+r(m[d])]=c(m[d]),u.prototype["set"+r(m[d])]=function(a){return function(x){if(!t(x))throw new TypeError(a+" must be a Number");this[a]=Number(x)}}(m[d]);for(var f=0;f<v.length;f++)u.prototype["get"+r(v[f])]=c(v[f]),u.prototype["set"+r(v[f])]=function(a){return function(x){this[a]=String(x)}}(v[f]);return u})}(Y)),Y.exports}var Xr=J.exports,We;function eo(){return We||(We=1,function(n,p){(function(t,r){n.exports=r(Le())})(Xr,function(r){var c=/(^|@)\S+:\d+/,l=/^\s*at .*(\S+:\d+|\(native\))/m,m=/^(eval@)?(\[native code])?$/;return{parse:function(g){if(typeof g.stacktrace<"u"||typeof g["opera#sourceloc"]<"u")return this.parseOpera(g);if(g.stack&&g.stack.match(l))return this.parseV8OrIE(g);if(g.stack)return this.parseFFOrSafari(g);throw new Error("Cannot parse given Error object")},extractLocation:function(g){if(g.indexOf(":")===-1)return[g];var _=/(.+?)(?::(\d+))?(?::(\d+))?$/,s=_.exec(g.replace(/[()]/g,""));return[s[1],s[2]||void 0,s[3]||void 0]},parseV8OrIE:function(g){var _=g.stack.split(`
`).filter(function(s){return!!s.match(l)},this);return _.map(function(s){s.indexOf("(eval ")>-1&&(s=s.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var u=s.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),o=u.match(/ (\(.+\)$)/);u=o?u.replace(o[0],""):u;var d=this.extractLocation(o?o[1]:u),f=o&&u||void 0,a=["eval","<anonymous>"].indexOf(d[0])>-1?void 0:d[0];return new r({functionName:f,fileName:a,lineNumber:d[1],columnNumber:d[2],source:s})},this)},parseFFOrSafari:function(g){var _=g.stack.split(`
`).filter(function(s){return!s.match(m)},this);return _.map(function(s){if(s.indexOf(" > eval")>-1&&(s=s.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),s.indexOf("@")===-1&&s.indexOf(":")===-1)return new r({functionName:s});var u=/((.*".+"[^@]*)?[^@]*)(?:@)/,o=s.match(u),d=o&&o[1]?o[1]:void 0,f=this.extractLocation(s.replace(u,""));return new r({functionName:d,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:s})},this)},parseOpera:function(g){return!g.stacktrace||g.message.indexOf(`
`)>-1&&g.message.split(`
`).length>g.stacktrace.split(`
`).length?this.parseOpera9(g):g.stack?this.parseOpera11(g):this.parseOpera10(g)},parseOpera9:function(g){for(var _=/Line (\d+).*script (?:in )?(\S+)/i,s=g.message.split(`
`),u=[],o=2,d=s.length;o<d;o+=2){var f=_.exec(s[o]);f&&u.push(new r({fileName:f[2],lineNumber:f[1],source:s[o]}))}return u},parseOpera10:function(g){for(var _=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=g.stacktrace.split(`
`),u=[],o=0,d=s.length;o<d;o+=2){var f=_.exec(s[o]);f&&u.push(new r({functionName:f[3]||void 0,fileName:f[2],lineNumber:f[1],source:s[o]}))}return u},parseOpera11:function(g){var _=g.stack.split(`
`).filter(function(s){return!!s.match(c)&&!s.match(/^Error created at/)},this);return _.map(function(s){var u=s.split("@"),o=this.extractLocation(u.pop()),d=u.shift()||"",f=d.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,a;d.match(/\(([^)]*)\)/)&&(a=d.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var x=a===void 0||a==="[arguments not available]"?void 0:a.split(",");return new r({functionName:f,args:x,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:s})},this)}}})}(J)),J.exports}var X={exports:{}},to=X.exports,Ve;function no(){return Ve||(Ve=1,function(n,p){(function(t,r){n.exports=r(Le())})(to,function(t){return{backtrace:function(c){var l=[],m=10;typeof c=="object"&&typeof c.maxStackSize=="number"&&(m=c.maxStackSize);for(var v=arguments.callee;v&&l.length<m&&v.arguments;){for(var g=new Array(v.arguments.length),_=0;_<g.length;++_)g[_]=v.arguments[_];/function(?:\s+([\w$]+))+\s*\(/.test(v.toString())?l.push(new t({functionName:RegExp.$1||void 0,args:g})):l.push(new t({args:g}));try{v=v.caller}catch{break}}return l}}})}(X)),X.exports}var ee={exports:{}},U={},pe={},Qe;function Mt(){return Qe||(Qe=1,function(n){function p(i,h,w){if(h in i)return i[h];if(arguments.length===3)return w;throw new Error('"'+h+'" is a required argument.')}n.getArg=p;var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function c(i){var h=i.match(t);return h?{scheme:h[1],auth:h[2],host:h[3],port:h[4],path:h[5]}:null}n.urlParse=c;function l(i){var h="";return i.scheme&&(h+=i.scheme+":"),h+="//",i.auth&&(h+=i.auth+"@"),i.host&&(h+=i.host),i.port&&(h+=":"+i.port),i.path&&(h+=i.path),h}n.urlGenerate=l;function m(i){var h=i,w=c(i);if(w){if(!w.path)return i;h=w.path}for(var b=n.isAbsolute(h),T=h.split(/\/+/),N,M=0,L=T.length-1;L>=0;L--)N=T[L],N==="."?T.splice(L,1):N===".."?M++:M>0&&(N===""?(T.splice(L+1,M),M=0):(T.splice(L,2),M--));return h=T.join("/"),h===""&&(h=b?"/":"."),w?(w.path=h,l(w)):h}n.normalize=m;function v(i,h){i===""&&(i="."),h===""&&(h=".");var w=c(h),b=c(i);if(b&&(i=b.path||"/"),w&&!w.scheme)return b&&(w.scheme=b.scheme),l(w);if(w||h.match(r))return h;if(b&&!b.host&&!b.path)return b.host=h,l(b);var T=h.charAt(0)==="/"?h:m(i.replace(/\/+$/,"")+"/"+h);return b?(b.path=T,l(b)):T}n.join=v,n.isAbsolute=function(i){return i.charAt(0)==="/"||!!i.match(t)};function g(i,h){i===""&&(i="."),i=i.replace(/\/$/,"");for(var w=0;h.indexOf(i+"/")!==0;){var b=i.lastIndexOf("/");if(b<0||(i=i.slice(0,b),i.match(/^([^\/]+:\/)?\/*$/)))return h;++w}return Array(w+1).join("../")+h.substr(i.length+1)}n.relative=g;var _=function(){var i=Object.create(null);return!("__proto__"in i)}();function s(i){return i}function u(i){return d(i)?"$"+i:i}n.toSetString=_?s:u;function o(i){return d(i)?i.slice(1):i}n.fromSetString=_?s:o;function d(i){if(!i)return!1;var h=i.length;if(h<9||i.charCodeAt(h-1)!==95||i.charCodeAt(h-2)!==95||i.charCodeAt(h-3)!==111||i.charCodeAt(h-4)!==116||i.charCodeAt(h-5)!==111||i.charCodeAt(h-6)!==114||i.charCodeAt(h-7)!==112||i.charCodeAt(h-8)!==95||i.charCodeAt(h-9)!==95)return!1;for(var w=h-10;w>=0;w--)if(i.charCodeAt(w)!==36)return!1;return!0}function f(i,h,w){var b=i.source-h.source;return b!==0||(b=i.originalLine-h.originalLine,b!==0)||(b=i.originalColumn-h.originalColumn,b!==0||w)||(b=i.generatedColumn-h.generatedColumn,b!==0)||(b=i.generatedLine-h.generatedLine,b!==0)?b:i.name-h.name}n.compareByOriginalPositions=f;function a(i,h,w){var b=i.generatedLine-h.generatedLine;return b!==0||(b=i.generatedColumn-h.generatedColumn,b!==0||w)||(b=i.source-h.source,b!==0)||(b=i.originalLine-h.originalLine,b!==0)||(b=i.originalColumn-h.originalColumn,b!==0)?b:i.name-h.name}n.compareByGeneratedPositionsDeflated=a;function x(i,h){return i===h?0:i>h?1:-1}function y(i,h){var w=i.generatedLine-h.generatedLine;return w!==0||(w=i.generatedColumn-h.generatedColumn,w!==0)||(w=x(i.source,h.source),w!==0)||(w=i.originalLine-h.originalLine,w!==0)||(w=i.originalColumn-h.originalColumn,w!==0)?w:x(i.name,h.name)}n.compareByGeneratedPositionsInflated=y}(pe)),pe}var me={},Ze;function ro(){return Ze||(Ze=1,function(n){n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2;function p(t,r,c,l,m,v){var g=Math.floor((r-t)/2)+t,_=m(c,l[g],!0);return _===0?g:_>0?r-g>1?p(g,r,c,l,m,v):v==n.LEAST_UPPER_BOUND?r<l.length?r:-1:g:g-t>1?p(t,g,c,l,m,v):v==n.LEAST_UPPER_BOUND?g:t<0?-1:t}n.search=function(r,c,l,m){if(c.length===0)return-1;var v=p(-1,c.length,r,c,l,m||n.GREATEST_LOWER_BOUND);if(v<0)return-1;for(;v-1>=0&&l(c[v],c[v-1],!0)===0;)--v;return v}}(me)),me}var fe={},Ke;function oo(){if(Ke)return fe;Ke=1;var n=Mt(),p=Object.prototype.hasOwnProperty;function t(){this._array=[],this._set=Object.create(null)}return t.fromArray=function(c,l){for(var m=new t,v=0,g=c.length;v<g;v++)m.add(c[v],l);return m},t.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},t.prototype.add=function(c,l){var m=n.toSetString(c),v=p.call(this._set,m),g=this._array.length;(!v||l)&&this._array.push(c),v||(this._set[m]=g)},t.prototype.has=function(c){var l=n.toSetString(c);return p.call(this._set,l)},t.prototype.indexOf=function(c){var l=n.toSetString(c);if(p.call(this._set,l))return this._set[l];throw new Error('"'+c+'" is not in the set.')},t.prototype.at=function(c){if(c>=0&&c<this._array.length)return this._array[c];throw new Error("No element indexed by "+c)},t.prototype.toArray=function(){return this._array.slice()},fe.ArraySet=t,fe}var V={},Q={},Je;function so(){if(Je)return Q;Je=1;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Q.encode=function(p){if(0<=p&&p<n.length)return n[p];throw new TypeError("Must be between 0 and 63: "+p)},Q.decode=function(p){var t=65,r=90,c=97,l=122,m=48,v=57,g=43,_=47,s=26,u=52;return t<=p&&p<=r?p-t:c<=p&&p<=l?p-c+s:m<=p&&p<=v?p-m+u:p==g?62:p==_?63:-1},Q}var Ye;function ao(){if(Ye)return V;Ye=1;var n=so(),p=5,t=1<<p,r=t-1,c=t;function l(v){return v<0?(-v<<1)+1:(v<<1)+0}function m(v){var g=(v&1)===1,_=v>>1;return g?-_:_}return V.encode=function(g){var _="",s,u=l(g);do s=u&r,u>>>=p,u>0&&(s|=c),_+=n.encode(s);while(u>0);return _},V.decode=function(g,_,s){var u=g.length,o=0,d=0,f,a;do{if(_>=u)throw new Error("Expected more digits in base 64 VLQ value.");if(a=n.decode(g.charCodeAt(_++)),a===-1)throw new Error("Invalid base64 digit: "+g.charAt(_-1));f=!!(a&c),a&=r,o=o+(a<<d),d+=p}while(f);s.value=m(o),s.rest=_},V}var ge={},Xe;function io(){if(Xe)return ge;Xe=1;function n(r,c,l){var m=r[c];r[c]=r[l],r[l]=m}function p(r,c){return Math.round(r+Math.random()*(c-r))}function t(r,c,l,m){if(l<m){var v=p(l,m),g=l-1;n(r,v,m);for(var _=r[m],s=l;s<m;s++)c(r[s],_)<=0&&(g+=1,n(r,g,s));n(r,g+1,s);var u=g+1;t(r,c,l,u-1),t(r,c,u+1,m)}}return ge.quickSort=function(r,c){t(r,c,0,r.length-1)},ge}var et;function co(){if(et)return U;et=1;var n=Mt(),p=ro(),t=oo().ArraySet,r=ao(),c=io().quickSort;function l(_){var s=_;return typeof _=="string"&&(s=JSON.parse(_.replace(/^\)\]\}'/,""))),s.sections!=null?new g(s):new m(s)}l.fromSourceMap=function(_){return m.fromSourceMap(_)},l.prototype._version=3,l.prototype.__generatedMappings=null,Object.defineProperty(l.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),l.prototype.__originalMappings=null,Object.defineProperty(l.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),l.prototype._charIsMappingSeparator=function(s,u){var o=s.charAt(u);return o===";"||o===","},l.prototype._parseMappings=function(s,u){throw new Error("Subclasses must implement _parseMappings")},l.GENERATED_ORDER=1,l.ORIGINAL_ORDER=2,l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,l.prototype.eachMapping=function(s,u,o){var d=u||null,f=o||l.GENERATED_ORDER,a;switch(f){case l.GENERATED_ORDER:a=this._generatedMappings;break;case l.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var x=this.sourceRoot;a.map(function(y){var i=y.source===null?null:this._sources.at(y.source);return i!=null&&x!=null&&(i=n.join(x,i)),{source:i,generatedLine:y.generatedLine,generatedColumn:y.generatedColumn,originalLine:y.originalLine,originalColumn:y.originalColumn,name:y.name===null?null:this._names.at(y.name)}},this).forEach(s,d)},l.prototype.allGeneratedPositionsFor=function(s){var u=n.getArg(s,"line"),o={source:n.getArg(s,"source"),originalLine:u,originalColumn:n.getArg(s,"column",0)};if(this.sourceRoot!=null&&(o.source=n.relative(this.sourceRoot,o.source)),!this._sources.has(o.source))return[];o.source=this._sources.indexOf(o.source);var d=[],f=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,p.LEAST_UPPER_BOUND);if(f>=0){var a=this._originalMappings[f];if(s.column===void 0)for(var x=a.originalLine;a&&a.originalLine===x;)d.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++f];else for(var y=a.originalColumn;a&&a.originalLine===u&&a.originalColumn==y;)d.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++f]}return d},U.SourceMapConsumer=l;function m(_){var s=_;typeof _=="string"&&(s=JSON.parse(_.replace(/^\)\]\}'/,"")));var u=n.getArg(s,"version"),o=n.getArg(s,"sources"),d=n.getArg(s,"names",[]),f=n.getArg(s,"sourceRoot",null),a=n.getArg(s,"sourcesContent",null),x=n.getArg(s,"mappings"),y=n.getArg(s,"file",null);if(u!=this._version)throw new Error("Unsupported version: "+u);o=o.map(String).map(n.normalize).map(function(i){return f&&n.isAbsolute(f)&&n.isAbsolute(i)?n.relative(f,i):i}),this._names=t.fromArray(d.map(String),!0),this._sources=t.fromArray(o,!0),this.sourceRoot=f,this.sourcesContent=a,this._mappings=x,this.file=y}m.prototype=Object.create(l.prototype),m.prototype.consumer=l,m.fromSourceMap=function(s){var u=Object.create(m.prototype),o=u._names=t.fromArray(s._names.toArray(),!0),d=u._sources=t.fromArray(s._sources.toArray(),!0);u.sourceRoot=s._sourceRoot,u.sourcesContent=s._generateSourcesContent(u._sources.toArray(),u.sourceRoot),u.file=s._file;for(var f=s._mappings.toArray().slice(),a=u.__generatedMappings=[],x=u.__originalMappings=[],y=0,i=f.length;y<i;y++){var h=f[y],w=new v;w.generatedLine=h.generatedLine,w.generatedColumn=h.generatedColumn,h.source&&(w.source=d.indexOf(h.source),w.originalLine=h.originalLine,w.originalColumn=h.originalColumn,h.name&&(w.name=o.indexOf(h.name)),x.push(w)),a.push(w)}return c(u.__originalMappings,n.compareByOriginalPositions),u},m.prototype._version=3,Object.defineProperty(m.prototype,"sources",{get:function(){return this._sources.toArray().map(function(_){return this.sourceRoot!=null?n.join(this.sourceRoot,_):_},this)}});function v(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}m.prototype._parseMappings=function(s,u){for(var o=1,d=0,f=0,a=0,x=0,y=0,i=s.length,h=0,w={},b={},T=[],N=[],M,L,E,D,Ae;h<i;)if(s.charAt(h)===";")o++,h++,d=0;else if(s.charAt(h)===",")h++;else{for(M=new v,M.generatedLine=o,D=h;D<i&&!this._charIsMappingSeparator(s,D);D++);if(L=s.slice(h,D),E=w[L],E)h+=L.length;else{for(E=[];h<D;)r.decode(s,h,b),Ae=b.value,h=b.rest,E.push(Ae);if(E.length===2)throw new Error("Found a source, but no line and column");if(E.length===3)throw new Error("Found a source and line, but no column");w[L]=E}M.generatedColumn=d+E[0],d=M.generatedColumn,E.length>1&&(M.source=x+E[1],x+=E[1],M.originalLine=f+E[2],f=M.originalLine,M.originalLine+=1,M.originalColumn=a+E[3],a=M.originalColumn,E.length>4&&(M.name=y+E[4],y+=E[4])),N.push(M),typeof M.originalLine=="number"&&T.push(M)}c(N,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=N,c(T,n.compareByOriginalPositions),this.__originalMappings=T},m.prototype._findMapping=function(s,u,o,d,f,a){if(s[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+s[o]);if(s[d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+s[d]);return p.search(s,u,f,a)},m.prototype.computeColumnSpans=function(){for(var s=0;s<this._generatedMappings.length;++s){var u=this._generatedMappings[s];if(s+1<this._generatedMappings.length){var o=this._generatedMappings[s+1];if(u.generatedLine===o.generatedLine){u.lastGeneratedColumn=o.generatedColumn-1;continue}}u.lastGeneratedColumn=1/0}},m.prototype.originalPositionFor=function(s){var u={generatedLine:n.getArg(s,"line"),generatedColumn:n.getArg(s,"column")},o=this._findMapping(u,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(s,"bias",l.GREATEST_LOWER_BOUND));if(o>=0){var d=this._generatedMappings[o];if(d.generatedLine===u.generatedLine){var f=n.getArg(d,"source",null);f!==null&&(f=this._sources.at(f),this.sourceRoot!=null&&(f=n.join(this.sourceRoot,f)));var a=n.getArg(d,"name",null);return a!==null&&(a=this._names.at(a)),{source:f,line:n.getArg(d,"originalLine",null),column:n.getArg(d,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},m.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(s){return s==null}):!1},m.prototype.sourceContentFor=function(s,u){if(!this.sourcesContent)return null;if(this.sourceRoot!=null&&(s=n.relative(this.sourceRoot,s)),this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];var o;if(this.sourceRoot!=null&&(o=n.urlParse(this.sourceRoot))){var d=s.replace(/^file:\/\//,"");if(o.scheme=="file"&&this._sources.has(d))return this.sourcesContent[this._sources.indexOf(d)];if((!o.path||o.path=="/")&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(u)return null;throw new Error('"'+s+'" is not in the SourceMap.')},m.prototype.generatedPositionFor=function(s){var u=n.getArg(s,"source");if(this.sourceRoot!=null&&(u=n.relative(this.sourceRoot,u)),!this._sources.has(u))return{line:null,column:null,lastColumn:null};u=this._sources.indexOf(u);var o={source:u,originalLine:n.getArg(s,"line"),originalColumn:n.getArg(s,"column")},d=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(s,"bias",l.GREATEST_LOWER_BOUND));if(d>=0){var f=this._originalMappings[d];if(f.source===o.source)return{line:n.getArg(f,"generatedLine",null),column:n.getArg(f,"generatedColumn",null),lastColumn:n.getArg(f,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},U.BasicSourceMapConsumer=m;function g(_){var s=_;typeof _=="string"&&(s=JSON.parse(_.replace(/^\)\]\}'/,"")));var u=n.getArg(s,"version"),o=n.getArg(s,"sections");if(u!=this._version)throw new Error("Unsupported version: "+u);this._sources=new t,this._names=new t;var d={line:-1,column:0};this._sections=o.map(function(f){if(f.url)throw new Error("Support for url field in sections not implemented.");var a=n.getArg(f,"offset"),x=n.getArg(a,"line"),y=n.getArg(a,"column");if(x<d.line||x===d.line&&y<d.column)throw new Error("Section offsets must be ordered and non-overlapping.");return d=a,{generatedOffset:{generatedLine:x+1,generatedColumn:y+1},consumer:new l(n.getArg(f,"map"))}})}return g.prototype=Object.create(l.prototype),g.prototype.constructor=l,g.prototype._version=3,Object.defineProperty(g.prototype,"sources",{get:function(){for(var _=[],s=0;s<this._sections.length;s++)for(var u=0;u<this._sections[s].consumer.sources.length;u++)_.push(this._sections[s].consumer.sources[u]);return _}}),g.prototype.originalPositionFor=function(s){var u={generatedLine:n.getArg(s,"line"),generatedColumn:n.getArg(s,"column")},o=p.search(u,this._sections,function(f,a){var x=f.generatedLine-a.generatedOffset.generatedLine;return x||f.generatedColumn-a.generatedOffset.generatedColumn}),d=this._sections[o];return d?d.consumer.originalPositionFor({line:u.generatedLine-(d.generatedOffset.generatedLine-1),column:u.generatedColumn-(d.generatedOffset.generatedLine===u.generatedLine?d.generatedOffset.generatedColumn-1:0),bias:s.bias}):{source:null,line:null,column:null,name:null}},g.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(s){return s.consumer.hasContentsOfAllSources()})},g.prototype.sourceContentFor=function(s,u){for(var o=0;o<this._sections.length;o++){var d=this._sections[o],f=d.consumer.sourceContentFor(s,!0);if(f)return f}if(u)return null;throw new Error('"'+s+'" is not in the SourceMap.')},g.prototype.generatedPositionFor=function(s){for(var u=0;u<this._sections.length;u++){var o=this._sections[u];if(o.consumer.sources.indexOf(n.getArg(s,"source"))!==-1){var d=o.consumer.generatedPositionFor(s);if(d){var f={line:d.line+(o.generatedOffset.generatedLine-1),column:d.column+(o.generatedOffset.generatedLine===d.line?o.generatedOffset.generatedColumn-1:0)};return f}}}return{line:null,column:null}},g.prototype._parseMappings=function(s,u){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var d=this._sections[o],f=d.consumer._generatedMappings,a=0;a<f.length;a++){var x=f[a],y=d.consumer._sources.at(x.source);d.consumer.sourceRoot!==null&&(y=n.join(d.consumer.sourceRoot,y)),this._sources.add(y),y=this._sources.indexOf(y);var i=d.consumer._names.at(x.name);this._names.add(i),i=this._names.indexOf(i);var h={source:y,generatedLine:x.generatedLine+(d.generatedOffset.generatedLine-1),generatedColumn:x.generatedColumn+(d.generatedOffset.generatedLine===x.generatedLine?d.generatedOffset.generatedColumn-1:0),originalLine:x.originalLine,originalColumn:x.originalColumn,name:i};this.__generatedMappings.push(h),typeof h.originalLine=="number"&&this.__originalMappings.push(h)}c(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),c(this.__originalMappings,n.compareByOriginalPositions)},U.IndexedSourceMapConsumer=g,U}var lo=ee.exports,tt;function uo(){return tt||(tt=1,function(n,p){(function(t,r){n.exports=r(co(),Le())})(lo,function(t,r){function c(o){return new Promise(function(d,f){var a=new XMLHttpRequest;a.open("get",o),a.onerror=f,a.onreadystatechange=function(){a.readyState===4&&(a.status>=200&&a.status<300||o.substr(0,7)==="file://"&&a.responseText?d(a.responseText):f(new Error("HTTP status: "+a.status+" retrieving "+o)))},a.send()})}function l(o){if(typeof window<"u"&&window.atob)return window.atob(o);throw new Error("You must supply a polyfill for window.atob in this environment")}function m(o){if(typeof JSON<"u"&&JSON.parse)return JSON.parse(o);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function v(o,d){for(var f=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],a=o.split(`
`),x="",y=Math.min(d,20),i=0;i<y;++i){var h=a[d-i-1],w=h.indexOf("//");if(w>=0&&(h=h.substr(0,w)),h){x=h+x;for(var b=f.length,T=0;T<b;T++){var N=f[T].exec(x);if(N&&N[1])return N[1]}}}}function g(){if(typeof Object.defineProperty!="function"||typeof Object.create!="function")throw new Error("Unable to consume source maps in older browsers")}function _(o){if(typeof o!="object")throw new TypeError("Given StackFrame is not an object");if(typeof o.fileName!="string")throw new TypeError("Given file name is not a String");if(typeof o.lineNumber!="number"||o.lineNumber%1!==0||o.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if(typeof o.columnNumber!="number"||o.columnNumber%1!==0||o.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function s(o){for(var d=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/mg,f,a;a=d.exec(o);)f=a[1];if(f)return f;throw new Error("sourceMappingURL not found")}function u(o,d,f){return new Promise(function(a,x){var y=d.originalPositionFor({line:o.lineNumber,column:o.columnNumber});if(y.source){var i=d.sourceContentFor(y.source);i&&(f[y.source]=i),a(new r({functionName:y.name||o.functionName,args:o.args,fileName:y.source,lineNumber:y.line,columnNumber:y.column}))}else x(new Error("Could not get original source for given stackframe and source map"))})}return function o(d){if(!(this instanceof o))return new o(d);d=d||{},this.sourceCache=d.sourceCache||{},this.sourceMapConsumerCache=d.sourceMapConsumerCache||{},this.ajax=d.ajax||c,this._atob=d.atob||l,this._get=function(a){return new Promise((function(x,y){var i=a.substr(0,5)==="data:";if(this.sourceCache[a])x(this.sourceCache[a]);else if(d.offline&&!i)y(new Error("Cannot make network requests in offline mode"));else if(i){var h=/^data:application\/json;([\w=:"-]+;)*base64,/,w=a.match(h);if(w){var b=w[0].length,T=a.substr(b),N=this._atob(T);this.sourceCache[a]=N,x(N)}else y(new Error("The encoding of the inline sourcemap is not supported"))}else{var M=this.ajax(a,{method:"get"});this.sourceCache[a]=M,M.then(x,y)}}).bind(this))},this._getSourceMapConsumer=function(a,x){return new Promise((function(y){if(this.sourceMapConsumerCache[a])y(this.sourceMapConsumerCache[a]);else{var i=new Promise((function(h,w){return this._get(a).then(function(b){typeof b=="string"&&(b=m(b.replace(/^\)\]\}'/,""))),typeof b.sourceRoot>"u"&&(b.sourceRoot=x),h(new t.SourceMapConsumer(b))}).catch(w)}).bind(this));this.sourceMapConsumerCache[a]=i,y(i)}}).bind(this))},this.pinpoint=function(a){return new Promise((function(x,y){this.getMappedLocation(a).then((function(i){function h(){x(i)}this.findFunctionName(i).then(x,h).catch(h)}).bind(this),y)}).bind(this))},this.findFunctionName=function(a){return new Promise((function(x,y){_(a),this._get(a.fileName).then(function(h){var w=a.lineNumber,b=a.columnNumber,T=v(h,w);x(T?new r({functionName:T,args:a.args,fileName:a.fileName,lineNumber:w,columnNumber:b}):a)},y).catch(y)}).bind(this))},this.getMappedLocation=function(a){return new Promise((function(x,y){g(),_(a);var i=this.sourceCache,h=a.fileName;this._get(h).then((function(w){var b=s(w),T=b.substr(0,5)==="data:",N=h.substring(0,h.lastIndexOf("/")+1);return b[0]!=="/"&&!T&&!/^https?:\/\/|^\/\//i.test(b)&&(b=N+b),this._getSourceMapConsumer(b,N).then(function(M){return u(a,M,i).then(x).catch(function(){x(a)})})}).bind(this),y).catch(y)}).bind(this))}}})}(ee)),ee.exports}var ho=K.exports,nt;function po(){return nt||(nt=1,function(n,p){(function(t,r){n.exports=r(eo(),no(),uo())})(ho,function(r,c,l){var m={filter:function(u){return(u.functionName||"").indexOf("StackTrace$$")===-1&&(u.functionName||"").indexOf("ErrorStackParser$$")===-1&&(u.functionName||"").indexOf("StackTraceGPS$$")===-1&&(u.functionName||"").indexOf("StackGenerator$$")===-1},sourceCache:{}},v=function(){try{throw new Error}catch(o){return o}};function g(u,o){var d={};return[u,o].forEach(function(f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a]);return d}),d}function _(u){return u.stack||u["opera#sourceloc"]}function s(u,o){return typeof o=="function"?u.filter(o):u}return{get:function(o){var d=v();return _(d)?this.fromError(d,o):this.generateArtificially(o)},getSync:function(o){o=g(m,o);var d=v(),f=_(d)?r.parse(d):c.backtrace(o);return s(f,o.filter)},fromError:function(o,d){d=g(m,d);var f=new l(d);return new Promise((function(a){var x=s(r.parse(o),d.filter);a(Promise.all(x.map(function(y){return new Promise(function(i){function h(){i(y)}f.pinpoint(y).then(i,h).catch(h)})})))}).bind(this))},generateArtificially:function(o){o=g(m,o);var d=c.backtrace(o);return typeof o.filter=="function"&&(d=d.filter(o.filter)),Promise.resolve(d)},instrument:function(o,d,f,a){if(typeof o!="function")throw new Error("Cannot instrument non-function object");if(typeof o.__stacktraceOriginalFn=="function")return o;var x=(function(){try{return this.get().then(d,f).catch(f),o.apply(a||this,arguments)}catch(i){throw _(i)&&this.fromError(i).then(d,f).catch(f),i}}).bind(this);return x.__stacktraceOriginalFn=o,x},deinstrument:function(o){if(typeof o!="function")throw new Error("Cannot de-instrument non-function object");return typeof o.__stacktraceOriginalFn=="function"?o.__stacktraceOriginalFn:o},report:function(o,d,f,a){return new Promise(function(x,y){var i=new XMLHttpRequest;if(i.onerror=y,i.onreadystatechange=function(){i.readyState===4&&(i.status>=200&&i.status<400?x(i.responseText):y(new Error("POST to "+d+" failed with status: "+i.status)))},i.open("post",d),i.setRequestHeader("Content-Type","application/json"),a&&typeof a.headers=="object"){var h=a.headers;for(var w in h)Object.prototype.hasOwnProperty.call(h,w)&&i.setRequestHeader(w,h[w])}var b={stack:o};f!=null&&(b.message=f),i.send(JSON.stringify(b))})}}})}(K)),K.exports}var mo=po();const kt=Ft(mo);class fo extends S.PureComponent{constructor(){super(...arguments);C(this,"state",{hasError:!1,errorMessage:void 0,stackTrace:void 0,mappedStackTrace:void 0,componentStack:void 0});C(this,"handleCopyStackTrace",()=>{const{errorMessage:t,stackTrace:r,mappedStackTrace:c}=this.state,l=document.createElement("textarea");let m=[t,r];c&&m.push(c),l.textContent=m.join(`


`),l.style.position="fixed",document.body.appendChild(l);try{l.select(),document.execCommand("copy")}catch{}finally{document.body.removeChild(l)}this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),700)})}componentDidCatch(t,r){this.setState({hasError:!0,errorMessage:t.toString(),stackTrace:t.stack,componentStack:r&&r.componentStack,mappedStackTrace:void 0}),kt.fromError(t).then(c=>{this.setState({mappedStackTrace:c.map(l=>l.toString()).join(`
`)})}).catch(()=>{this.setState({mappedStackTrace:void 0})})}render(){const{hasError:t,copied:r,errorMessage:c}=this.state;if(!t)return this.props.children;const l=c&&c.includes("NotFoundError");return e.jsxs("div",{className:"error-boundary",children:[e.jsxs("div",{children:[e.jsx("p",{className:"error-boundary__error",children:l?e.jsx(k,{id:"error.unexpected_crash.explanation_addons",defaultMessage:"This page could not be displayed correctly. This error is likely caused by a browser add-on or automatic translation tools."}):e.jsx(k,{id:"error.unexpected_crash.explanation",defaultMessage:"Due to a bug in our code or a browser compatibility issue, this page could not be displayed correctly."})}),e.jsx("p",{children:l?e.jsx(k,{id:"error.unexpected_crash.next_steps_addons",defaultMessage:"Try disabling them and refreshing the page. If that does not help, you may still be able to use Mastodon through a different browser or native app."}):e.jsx(k,{id:"error.unexpected_crash.next_steps",defaultMessage:"Try refreshing the page. If that does not help, you may still be able to use Mastodon through a different browser or native app."})}),e.jsxs("p",{className:"error-boundary__footer",children:["Mastodon v",En," · ",e.jsx("a",{href:Mn,rel:"noopener",target:"_blank",children:e.jsx(k,{id:"errors.unexpected_crash.report_issue",defaultMessage:"Report issue"})})," · ",e.jsx("button",{onClick:this.handleCopyStackTrace,className:r?"copied":"",children:e.jsx(k,{id:"errors.unexpected_crash.copy_stacktrace",defaultMessage:"Copy stacktrace to clipboard"})})]})]}),e.jsx(dt,{children:e.jsx("meta",{name:"robots",content:"noindex"})})]})}}const go=({note:n,className:p})=>{const t=gt();return n.length===0||n==="<p></p>"?null:e.jsx("div",{className:`${p} translate`,dangerouslySetInnerHTML:{__html:n},onClickCapture:t})},vo=({fields:n,limit:p=-1})=>{const t=gt();return n.size===0?null:e.jsx("div",{className:"account-fields",onClickCapture:t,children:n.take(p).map((r,c)=>e.jsxs("dl",{className:Me({verified:r.get("verified_at")}),children:[e.jsx("dt",{dangerouslySetInnerHTML:{__html:r.get("name_emojified")},className:"translate"}),e.jsxs("dd",{className:"translate",title:r.get("value_plain")??"",children:[r.get("verified_at")&&e.jsx(ct,{id:"check",icon:Dt,className:"verified__mark"}),e.jsx("span",{dangerouslySetInnerHTML:{__html:r.get("value_emojified")}})]})]},c))})},Nt=S.forwardRef(({accountId:n},p)=>{const t=je(),r=q(m=>n?m.accounts.get(n):void 0),c=q(m=>m.relationships.getIn([n,"note"]));S.useEffect(()=>{n&&!r&&t(qt(n))},[t,n,r]);const{familiarFollowers:l}=Hn({accountId:n});return e.jsx("div",{ref:p,id:"hover-card",role:"tooltip",className:Me("hover-card dropdown-animation",{"hover-card--loading":!r}),children:r?e.jsxs(e.Fragment,{children:[e.jsxs(R,{to:`/@${r.acct}`,className:"hover-card__name",children:[e.jsx(te,{account:r,size:46}),e.jsx(vt,{account:r,localDomain:ne})]}),e.jsxs("div",{className:"hover-card__text-row",children:[e.jsx(go,{note:r.note_emojified,className:"hover-card__bio"}),e.jsx(vo,{fields:r.fields,limit:2}),c&&c.length>0&&e.jsxs("dl",{className:"hover-card__note",children:[e.jsx("dt",{className:"hover-card__note-label",children:e.jsx(k,{id:"account.account_note_header",defaultMessage:"Personal note"})}),e.jsx("dd",{children:c})]})]}),e.jsxs("div",{className:"hover-card__numbers",children:[e.jsx(_e,{value:r.followers_count,renderer:Un}),l.length>0&&e.jsxs(e.Fragment,{children:["·",e.jsxs("div",{className:"hover-card__familiar-followers",children:[e.jsx(_e,{value:l.length,renderer:zn}),e.jsx(Bn,{compact:!0,children:l.slice(0,3).map(m=>e.jsx(te,{account:m,size:22},m.id))})]})]})]}),e.jsx(yr,{accountId:n})]}):e.jsx(wr,{})})});Nt.displayName="HoverCardAccount";const _o=[-12,4],rt=750,xo=150,bo={strategy:"fixed"},yo=n=>n.matches("[data-hover-card-account]"),wo=()=>{const[n,p]=S.useState(!1),[t,r]=S.useState(),[c,l]=S.useState(null),m=S.useRef(null),[v,g]=he(),[_,s,u]=he(),[o]=he(),d=ke(),f=S.useCallback(()=>{s(),g(),p(!1),l(null)},[s,g,p,l]);return S.useEffect(()=>{f()},[f,d]),S.useEffect(()=>{let a=!1,x=null,y=null;const i=L=>{L.setAttribute("aria-describedby","hover-card"),p(!0),l(L),r(L.getAttribute("data-hover-card-account")??void 0)},h=()=>{x==null||x.removeAttribute("aria-describedby"),x=null,p(!1),l(null),r(void 0)},w=L=>{const{target:E}=L;if(!(E instanceof HTMLElement)){h();return}!a&&yo(E)&&(g(),x==null||x.removeAttribute("aria-describedby"),x=E,y=E.getAttribute("title"),E.removeAttribute("title"),_(()=>{i(E)},rt)),!a&&(E===x||E===m.current)&&g()},b=L=>{const{target:E}=L;x&&(y&&E instanceof HTMLElement&&E===x&&E.setAttribute("title",y),(E===x||E===m.current)&&(s(),v(()=>{h()},xo)))},T=()=>{a=!1},N=()=>{a=!0,s(),o(T,100)},M=()=>{u(rt)};return document.body.addEventListener("mouseenter",w,{passive:!0,capture:!0}),document.body.addEventListener("mousemove",M,{passive:!0,capture:!1}),document.body.addEventListener("mouseleave",b,{passive:!0,capture:!0}),document.addEventListener("scroll",N,{passive:!0,capture:!0}),()=>{document.body.removeEventListener("mouseenter",w),document.body.removeEventListener("mousemove",M),document.body.removeEventListener("mouseleave",b),document.removeEventListener("scroll",N)}},[_,v,o,s,g,u,p,r,l]),e.jsx(lt,{rootClose:!0,onHide:f,show:n,target:c,placement:"bottom-start",flip:!0,offset:_o,popperConfig:bo,children:({props:a})=>e.jsx("div",{...a,className:"hover-card-controller",children:e.jsx(Nt,{accountId:t,ref:m})})})},Co=G({close:{id:"lightbox.close",defaultMessage:"Close"}}),jo=({accountId:n,statusId:p,onClose:t})=>{const r=q(l=>l.accounts.get(n)),c=ae();return r?e.jsxs("div",{className:"picture-in-picture__header",children:[e.jsxs(R,{to:`/@${r.get("acct")}/${p}`,className:"picture-in-picture__header__account",children:[e.jsx(te,{account:r,size:36}),e.jsx(vt,{account:r})]}),e.jsx(Ht,{icon:"times",iconComponent:jr,onClick:t,title:c.formatMessage(Co.close)})]}):null},So=()=>{const n=je(),p=S.useCallback(()=>{n(Gt())},[n]),t=q(a=>a.picture_in_picture);if(t.type===null)return null;const{type:r,src:c,currentTime:l,accountId:m,statusId:v,volume:g,muted:_,poster:s,backgroundColor:u,foregroundColor:o,accentColor:d}=t;if(!c)return null;let f;switch(r){case"video":f=e.jsx(Ut,{src:c,startTime:l,startVolume:g,startMuted:_,startPlaying:!0,alwaysVisible:!0});break;case"audio":f=e.jsx(Bt,{src:c,startTime:l,startVolume:g,startMuted:_,startPlaying:!0,poster:s,backgroundColor:u,foregroundColor:o,accentColor:d})}return e.jsxs("div",{className:"picture-in-picture",children:[e.jsx(jo,{accountId:m,statusId:v,onClose:p}),f,e.jsx(Cr,{statusId:v,onClose:p})]})},To=F(n=>({account:n.getIn(["accounts",$])}))(({account:n})=>e.jsx(R,{to:`/@${n.get("acct")}`,title:n.get("acct"),children:e.jsx(te,{account:n,size:35})})),Eo=G({search:{id:"navigation_bar.search",defaultMessage:"Search"}}),Mo=n=>({signupUrl:n.getIn(["server","server","registrations","url"],null)||"/auth/sign_up"}),ko=n=>({openClosedRegistrationsModal(){n(Te({modalType:"CLOSED_REGISTRATIONS"}))},dispatchServer(){n(Se())}});class No extends S.PureComponent{componentDidMount(){const{dispatchServer:p}=this.props;p()}render(){const{signedIn:p}=this.props.identity,{location:t,openClosedRegistrationsModal:r,signupUrl:c,intl:l}=this.props;let m;if(p)m=e.jsxs(e.Fragment,{children:[t.pathname!=="/search"&&e.jsx(R,{to:"/search",className:"button button-secondary","aria-label":l.formatMessage(Eo.search),children:e.jsx(ct,{id:"search",icon:St})}),t.pathname!=="/publish"&&e.jsx(R,{to:"/publish",className:"button button-secondary",children:e.jsx(k,{id:"compose_form.publish_form",defaultMessage:"New post"})}),e.jsx(To,{})]});else if(re)m=e.jsx("a",{href:re,"data-method":"post",className:"button button--block button-tertiary",children:e.jsx(k,{id:"sign_in_banner.sso_redirect",defaultMessage:"Login or Register"})});else{let v;ht?v=e.jsx("a",{href:c,className:"button",children:e.jsx(k,{id:"sign_in_banner.create_account",defaultMessage:"Create account"})}):v=e.jsx("button",{className:"button",onClick:r,children:e.jsx(k,{id:"sign_in_banner.create_account",defaultMessage:"Create account"})}),m=e.jsxs(e.Fragment,{children:[v,e.jsx("a",{href:"/auth/sign_in",className:"button button-tertiary",children:e.jsx(k,{id:"sign_in_banner.sign_in",defaultMessage:"Login"})})]})}return e.jsxs("div",{className:"ui__header",children:[e.jsxs(R,{to:"/",className:"ui__header__logo",children:[e.jsx(Tt,{}),e.jsx(Sr,{})]}),e.jsx("div",{className:"ui__header__links",children:m})]})}}const Lo=W(ft(ie(F(Mo,ko)(No)))),Ao=({active:n,onClose:p})=>{const t=S.useCallback(l=>{n&&l.key==="Escape"&&(l.preventDefault(),l.stopPropagation(),p())},[n,p]);S.useEffect(()=>(window.addEventListener("keyup",t,!1),()=>{window.removeEventListener("keyup",t)}),[t]);const r=Ie({from:{opacity:0},to:{opacity:1},reverse:!n,immediate:$e}),c=Ie({from:{transform:"scale(0.95)"},to:{transform:"scale(1)"},reverse:!n,config:zt.wobbly,immediate:$e});return e.jsx(Pe.div,{className:"upload-area",style:{...r,visibility:n?"visible":"hidden"},children:e.jsxs("div",{className:"upload-area__drop",children:[e.jsx(Pe.div,{className:"upload-area__background",style:c}),e.jsx("div",{className:"upload-area__content",children:e.jsx(k,{id:"upload_area.title",defaultMessage:"Drag & drop to upload"})})]})})},ve=G({browseHashtag:{id:"hashtag.browse",defaultMessage:"Browse posts in #{hashtag}"},browseHashtagFromAccount:{id:"hashtag.browse_from_account",defaultMessage:"Browse posts from @{name} in #{hashtag}"},muteHashtag:{id:"hashtag.mute",defaultMessage:"Mute #{hashtag}"}}),Oo=[5,5],Io={strategy:"fixed"},Po=n=>n?n.matches("[data-menu-hashtag]"):!1,Ro=()=>{const n=ae(),[p,t]=S.useState(!1),[{accountId:r,hashtag:c},l]=S.useState({}),m=S.useRef(null),v=ke(),g=q(u=>r?u.accounts.get(r):void 0);S.useEffect(()=>{t(!1),m.current=null},[t,v]),S.useEffect(()=>{const u=o=>{const d=o.target.closest("a");if(o.button!==0||o.ctrlKey||o.metaKey||!Po(d))return;const f=d.text.replace(/^#/,""),a=d.getAttribute("data-menu-hashtag");!f||!a||(o.preventDefault(),o.stopPropagation(),m.current=d,t(!0),l({hashtag:f,accountId:a}))};return document.addEventListener("click",u,{capture:!0}),()=>{document.removeEventListener("click",u)}},[l,t]);const _=S.useCallback(()=>{t(!1),m.current=null},[t]),s=S.useMemo(()=>[{text:n.formatMessage(ve.browseHashtag,{hashtag:c}),to:`/tags/${c}`},{text:n.formatMessage(ve.browseHashtagFromAccount,{hashtag:c,name:g==null?void 0:g.username}),to:`/@${g==null?void 0:g.acct}/tagged/${c}`},null,{text:n.formatMessage(ve.muteHashtag,{hashtag:c}),href:"/filters",dangerous:!0}],[n,c,g]);return p?e.jsx(lt,{show:p,offset:Oo,placement:"bottom",flip:!0,target:m,popperConfig:Io,children:({props:u,arrowProps:o,placement:d})=>e.jsx("div",{...u,children:e.jsxs("div",{className:`dropdown-animation dropdown-menu ${d}`,children:[e.jsx("div",{className:`dropdown-menu__arrow ${d}`,...o}),e.jsx(Wn,{items:s,onClose:_,openedViaKeyboard:!1})]})})}):null},Lt=n=>e.jsxs(Lr,{children:[e.jsx(Er,{...n}),e.jsx("div",{className:"scrollable"})]}),$o=G({aboutActiveUsers:{id:"server_banner.about_active_users",defaultMessage:"People using this server during the last 30 days (Monthly Active Users)"}}),Fo=n=>({server:n.getIn(["server","server"])});class Do extends S.PureComponent{componentDidMount(){const{dispatch:p}=this.props;p(Se())}render(){const{server:p,intl:t}=this.props,r=p.get("isLoading");return e.jsxs("div",{className:"server-banner",children:[e.jsx("div",{className:"server-banner__introduction",children:e.jsx(k,{id:"server_banner.is_one_of_many",defaultMessage:"{domain} is one of the many independent Mastodon servers you can use to participate in the fediverse.",values:{domain:e.jsx("strong",{children:ne}),mastodon:e.jsx("a",{href:"https://joinmastodon.org",target:"_blank",rel:"noopener",children:"Mastodon"})}})}),e.jsx(R,{to:"/about",children:e.jsx(Or,{blurhash:p.getIn(["thumbnail","blurhash"]),src:p.getIn(["thumbnail","url"]),className:"server-banner__hero"})}),e.jsx("div",{className:"server-banner__description",children:r?e.jsxs(e.Fragment,{children:[e.jsx(B,{width:"100%"}),e.jsx("br",{}),e.jsx(B,{width:"100%"}),e.jsx("br",{}),e.jsx(B,{width:"70%"})]}):p.get("description")}),e.jsxs("div",{className:"server-banner__meta",children:[e.jsxs("div",{className:"server-banner__meta__column",children:[e.jsx("h4",{children:e.jsx(k,{id:"server_banner.administered_by",defaultMessage:"Administered by:"})}),e.jsx(Ar,{id:p.getIn(["contact","account","id"]),size:36,minimal:!0})]}),e.jsxs("div",{className:"server-banner__meta__column",children:[e.jsx("h4",{children:e.jsx(k,{id:"server_banner.server_stats",defaultMessage:"Server stats:"})}),r?e.jsxs(e.Fragment,{children:[e.jsx("strong",{className:"server-banner__number",children:e.jsx(B,{width:"10ch"})}),e.jsx("br",{}),e.jsx("span",{className:"server-banner__number-label",children:e.jsx(B,{width:"5ch"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{className:"server-banner__number",children:e.jsx(_e,{value:p.getIn(["usage","users","active_month"])})}),e.jsx("br",{}),e.jsx("span",{className:"server-banner__number-label",title:t.formatMessage($o.aboutActiveUsers),children:e.jsx(k,{id:"server_banner.active_users",defaultMessage:"active users"})})]})]})]})]})}}const qo=F(Fo)(W(Do));class Ho extends S.PureComponent{constructor(){super(...arguments);C(this,"onFocus",()=>{const{dispatch:t}=this.props;t(Re(!0))});C(this,"onBlur",()=>{const{dispatch:t}=this.props;t(Re(!1))})}componentDidMount(){const{dispatch:t}=this.props;t(Wt())}componentWillUnmount(){const{dispatch:t}=this.props;t(Vt())}render(){const{signedIn:t}=this.props.identity;return e.jsxs("div",{className:"compose-panel",onFocus:this.onFocus,children:[e.jsx(Ir,{openInRoute:!0}),!t&&e.jsxs(e.Fragment,{children:[e.jsx(qo,{}),e.jsx("div",{className:"flex-spacer"})]}),t&&e.jsx(Pr,{singleColumn:!0}),e.jsx(Rr,{})]})}}const Go=F()(ie(Ho)),Bo=()=>e.jsx("div",{className:"drawer",children:e.jsx("div",{className:"drawer__pager",children:e.jsx("div",{className:"drawer__inner"})})}),Uo=n=>S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...n},S.createElement("path",{d:"M160-80v-560q0-33 23.5-56.5T240-720h320q33 0 56.5 23.5T640-640v560L400-200 160-80Zm80-121 160-86 160 86v-439H240v439Zm480-39v-560H280v-80h440q33 0 56.5 23.5T800-800v560h-80ZM240-640h320-320Z"})),zo=n=>S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...n},S.createElement("path",{d:"m300-300 280-80 80-280-280 80-80 280Zm180-120q-25 0-42.5-17.5T420-480q0-25 17.5-42.5T480-540q25 0 42.5 17.5T540-480q0 25-17.5 42.5T480-420Zm0 340q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"})),Wo=n=>S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...n},S.createElement("path",{d:"M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"})),At=n=>S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,...n},S.createElement("path",{d:"M320-280q17 0 28.5-11.5T360-320q0-17-11.5-28.5T320-360q-17 0-28.5 11.5T280-320q0 17 11.5 28.5T320-280Zm0-160q17 0 28.5-11.5T360-480q0-17-11.5-28.5T320-520q-17 0-28.5 11.5T280-480q0 17 11.5 28.5T320-440Zm0-160q17 0 28.5-11.5T360-640q0-17-11.5-28.5T320-680q-17 0-28.5 11.5T280-640q0 17 11.5 28.5T320-600Zm120 320h240v-80H440v80Zm0-160h240v-80H440v80Zm0-160h240v-80H440v80ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Z"})),Vo=()=>e.jsx("div",{className:"navigation-panel__portal",children:kn&&e.jsx(Hr,{})}),Qo=n=>({disabledAcct:n.getIn(["accounts",Nn,"acct"]),movedToAcct:Fe?n.getIn(["accounts",Fe,"acct"]):void 0}),Zo=n=>({onLogout(){n(Te({modalType:"CONFIRM_LOG_OUT"}))}});class Ko extends S.PureComponent{constructor(){super(...arguments);C(this,"handleLogOutClick",t=>(t.preventDefault(),t.stopPropagation(),this.props.onLogout(),!1))}render(){const{disabledAcct:t,movedToAcct:r}=this.props,c=e.jsxs(R,{to:`/@${t}`,children:[t,"@",ne]});return e.jsxs("div",{className:"sign-in-banner",children:[e.jsx("p",{children:r?e.jsx(k,{id:"moved_to_account_banner.text",defaultMessage:"Your account {disabledAccount} is currently disabled because you moved to {movedToAccount}.",values:{disabledAccount:c,movedToAccount:e.jsx(R,{to:`/@${r}`,children:r.includes("@")?r:`${r}@${ne}`})}}):e.jsx(k,{id:"disabled_account_banner.text",defaultMessage:"Your account {disabledAccount} is currently disabled.",values:{disabledAccount:c}})}),e.jsx("a",{href:"/auth/edit",className:"button button--block",children:e.jsx(k,{id:"disabled_account_banner.account_settings",defaultMessage:"Account settings"})}),e.jsx("button",{type:"button",className:"button button--block button-tertiary",onClick:this.handleLogOutClick,children:e.jsx(k,{id:"confirmations.logout.confirm",defaultMessage:"Log out"})})]})}}const Jo=W(F(Qo,Zo)(Ko)),Yo=Qt([n=>n.get("lists")],n=>n&&n.toList().filter(p=>!!p).sort((p,t)=>p.get("title").localeCompare(t.get("title"))).take(4)),Xo=()=>{const n=ut(),p=Ee(t=>Yo(t));return S.useEffect(()=>{n(Zt())},[n]),!p||p.isEmpty()?null:e.jsxs("div",{className:"list-panel",children:[e.jsx("hr",{}),p.map(t=>e.jsx(O,{icon:"list-ul",iconComponent:Et,activeIconComponent:At,text:t.get("title"),to:`/lists/${t.get("id")}`,transparent:!0},t.get("id")))]})},es=()=>{const n=je(),p=S.useCallback(()=>n(Te({modalType:"CLOSED_REGISTRATIONS"})),[n]);let t;const r=q(c=>c.getIn(["server","server","registrations","url"],null)||"/auth/sign_up");return re?e.jsxs("div",{className:"sign-in-banner",children:[e.jsx("p",{children:e.jsx("strong",{children:e.jsx(k,{id:"sign_in_banner.mastodon_is",defaultMessage:"Mastodon is the best way to keep up with what's happening."})})}),e.jsx("p",{children:e.jsx(k,{id:"sign_in_banner.follow_anyone",defaultMessage:"Follow anyone across the fediverse and see it all in chronological order. No algorithms, ads, or clickbait in sight."})}),e.jsx("a",{href:re,"data-method":"post",className:"button button--block button-tertiary",children:e.jsx(k,{id:"sign_in_banner.sso_redirect",defaultMessage:"Login or Register"})})]}):(ht?t=e.jsx("a",{href:r,className:"button button--block",children:e.jsx(k,{id:"sign_in_banner.create_account",defaultMessage:"Create account"})}):t=e.jsx("button",{className:"button button--block",onClick:p,children:e.jsx(k,{id:"sign_in_banner.create_account",defaultMessage:"Create account"})}),e.jsxs("div",{className:"sign-in-banner",children:[e.jsx("p",{children:e.jsx("strong",{children:e.jsx(k,{id:"sign_in_banner.mastodon_is",defaultMessage:"Mastodon is the best way to keep up with what's happening."})})}),e.jsx("p",{children:e.jsx(k,{id:"sign_in_banner.follow_anyone",defaultMessage:"Follow anyone across the fediverse and see it all in chronological order. No algorithms, ads, or clickbait in sight."})}),t,e.jsx("a",{href:"/auth/sign_in",className:"button button--block button-tertiary",children:e.jsx(k,{id:"sign_in_banner.sign_in",defaultMessage:"Login"})})]}))},A=G({home:{id:"tabs_bar.home",defaultMessage:"Home"},notifications:{id:"tabs_bar.notifications",defaultMessage:"Notifications"},explore:{id:"explore.title",defaultMessage:"Explore"},firehose:{id:"column.firehose",defaultMessage:"Live feeds"},direct:{id:"navigation_bar.direct",defaultMessage:"Private mentions"},favourites:{id:"navigation_bar.favourites",defaultMessage:"Favorites"},bookmarks:{id:"navigation_bar.bookmarks",defaultMessage:"Bookmarks"},lists:{id:"navigation_bar.lists",defaultMessage:"Lists"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},administration:{id:"navigation_bar.administration",defaultMessage:"Administration"},moderation:{id:"navigation_bar.moderation",defaultMessage:"Moderation"},followsAndFollowers:{id:"navigation_bar.follows_and_followers",defaultMessage:"Follows and followers"},about:{id:"navigation_bar.about",defaultMessage:"About"},search:{id:"navigation_bar.search",defaultMessage:"Search"},advancedInterface:{id:"navigation_bar.advanced_interface",defaultMessage:"Open in advanced web interface"},openedInClassicInterface:{id:"navigation_bar.opened_in_classic_interface",defaultMessage:"Posts, accounts, and other specific pages are opened by default in the classic web interface."},followRequests:{id:"navigation_bar.follow_requests",defaultMessage:"Follow requests"}}),ts=()=>{const n=Ee(Qr),p=ae();return e.jsx(O,{transparent:!0,to:"/notifications",icon:e.jsx(se,{id:"bell",icon:Gn,count:n,className:"column-link__icon"}),activeIcon:e.jsx(se,{id:"bell",icon:Br,count:n,className:"column-link__icon"}),text:p.formatMessage(A.notifications)},"notifications")},ns=()=>{const n=Ee(r=>{var c;return((c=r.getIn(["user_lists","follow_requests","items"]))==null?void 0:c.size)??0}),p=ae(),t=ut();return S.useEffect(()=>{t(Xt())},[t]),n===0?null:e.jsx(O,{transparent:!0,to:"/follow_requests",icon:e.jsx(se,{id:"user-plus",icon:zr,count:n,className:"column-link__icon"}),activeIcon:e.jsx(se,{id:"user-plus",icon:Ur,count:n,className:"column-link__icon"}),text:p.formatMessage(A.followRequests)})};class rs extends S.Component{constructor(){super(...arguments);C(this,"isFirehoseActive",(t,r)=>t||r.pathname.startsWith("/public"))}render(){const{intl:t}=this.props,{signedIn:r,disabledAccountId:c,permissions:l}=this.props.identity;let m;return Kt&&(m=e.jsxs("div",{className:"switch-to-advanced",children:[t.formatMessage(A.openedInClassicInterface)," ",e.jsx("a",{href:`/deck${location.pathname}`,className:"switch-to-advanced__toggle",children:t.formatMessage(A.advancedInterface)})]})),e.jsxs("div",{className:"navigation-panel",children:[e.jsx("div",{className:"navigation-panel__logo",children:e.jsx(R,{to:"/",className:"column-link column-link--logo",children:e.jsx(Tt,{})})}),m&&e.jsx("div",{className:"navigation-panel__banner",children:m}),e.jsxs("div",{className:"navigation-panel__menu",children:[r&&e.jsxs(e.Fragment,{children:[e.jsx(O,{transparent:!0,to:"/home",icon:"home",iconComponent:Wo,activeIconComponent:qr,text:t.formatMessage(A.home)}),e.jsx(ts,{}),e.jsx(ns,{})]}),pt?e.jsx(O,{transparent:!0,to:"/explore",icon:"explore",iconComponent:Fr,activeIconComponent:zo,text:t.formatMessage(A.explore)}):e.jsx(O,{transparent:!0,to:"/search",icon:"search",iconComponent:St,text:t.formatMessage(A.search)}),(r||Ln)&&e.jsx(O,{transparent:!0,to:"/public/local",isActive:this.isFirehoseActive,icon:"globe",iconComponent:Vn,text:t.formatMessage(A.firehose)}),!r&&e.jsxs("div",{className:"navigation-panel__sign-in-banner",children:[e.jsx("hr",{}),c?e.jsx(Jo,{}):e.jsx(es,{})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx(O,{transparent:!0,to:"/conversations",icon:"at",iconComponent:Qn,text:t.formatMessage(A.direct)}),e.jsx(O,{transparent:!0,to:"/bookmarks",icon:"bookmarks",iconComponent:Uo,activeIconComponent:$r,text:t.formatMessage(A.bookmarks)}),e.jsx(O,{transparent:!0,to:"/favourites",icon:"star",iconComponent:Yt,activeIconComponent:Jt,text:t.formatMessage(A.favourites)}),e.jsx(O,{transparent:!0,to:"/lists",icon:"list-ul",iconComponent:Et,activeIconComponent:At,text:t.formatMessage(A.lists)}),e.jsx(Xo,{}),e.jsx("hr",{}),e.jsx(O,{transparent:!0,href:"/settings/preferences",icon:"cog",iconComponent:Mr,text:t.formatMessage(A.preferences)}),Wr(l)&&e.jsx(O,{optional:!0,transparent:!0,href:"/admin/reports",icon:"flag",iconComponent:Dr,text:t.formatMessage(A.moderation)}),Vr(l)&&e.jsx(O,{optional:!0,transparent:!0,href:"/admin/dashboard",icon:"tachometer",iconComponent:Gr,text:t.formatMessage(A.administration)})]}),e.jsxs("div",{className:"navigation-panel__legal",children:[e.jsx("hr",{}),e.jsx(O,{transparent:!0,to:"/about",icon:"ellipsis-h",iconComponent:Zn,text:t.formatMessage(A.about)})]})]}),e.jsx("div",{className:"flex-spacer"}),e.jsx(Vo,{})]})}}const os=W(ie(rs)),ss={COMPOSE:jt,HOME:Ct,NOTIFICATIONS:wt,PUBLIC:qe,REMOTE:qe,COMMUNITY:Kn,HASHTAG:be,DIRECT:yt,FAVOURITES:bt,BOOKMARKS:xt,LIST:xe,DIRECTORY:_t},as=()=>{const{setTabsBarElement:n}=kr(),p=S.useCallback(t=>{t&&n(t)},[n]);return e.jsx("div",{id:"tabs-bar__portal",ref:p})};class Ot extends en{constructor(){super(...arguments);C(this,"mediaQuery","matchMedia"in window&&window.matchMedia("(max-width: 1174px)"));C(this,"state",{renderComposePanel:!(this.mediaQuery&&this.mediaQuery.matches)});C(this,"handleLayoutChange",t=>{this.setState({renderComposePanel:!t.matches})});C(this,"setRef",t=>{this.node=t});C(this,"renderLoading",t=>()=>t==="COMPOSE"?e.jsx(Bo,{}):e.jsx(Lt,{multiColumn:!0}));C(this,"renderError",t=>e.jsx(oe,{multiColumn:!0,errorType:"network",...t}))}componentDidMount(){this.mediaQuery&&(this.mediaQuery.addEventListener?this.mediaQuery.addEventListener("change",this.handleLayoutChange):this.mediaQuery.addListener(this.handleLayoutChange),this.setState({renderComposePanel:!this.mediaQuery.matches})),this.isRtlLayout=document.getElementsByTagName("body")[0].classList.contains("rtl")}componentWillUnmount(){this.mediaQuery&&(this.mediaQuery.removeEventListener?this.mediaQuery.removeEventListener("change",this.handleLayoutChange):this.mediaQuery.removeListener(this.handleLayoutChange))}handleChildrenContentChange(){if(!this.props.singleColumn){const t=this.isRtlLayout?-1:1;Tr(this.node,(this.node.scrollWidth-window.innerWidth)*t)}}render(){const{columns:t,children:r,singleColumn:c,isModalOpen:l}=this.props,{renderComposePanel:m}=this.state;return c?e.jsxs("div",{className:"columns-area__panels",children:[e.jsx("div",{className:"columns-area__panels__pane columns-area__panels__pane--compositional",children:e.jsx("div",{className:"columns-area__panels__pane__inner",children:m&&e.jsx(Go,{})})}),e.jsxs("div",{className:"columns-area__panels__main",children:[e.jsx("div",{className:"tabs-bar__wrapper",children:e.jsx(as,{})}),e.jsx("div",{className:"columns-area columns-area--mobile",children:r})]}),e.jsx("div",{className:"columns-area__panels__pane columns-area__panels__pane--start columns-area__panels__pane--navigational",children:e.jsx("div",{className:"columns-area__panels__pane__inner",children:e.jsx(os,{})})})]}):e.jsxs("div",{className:`columns-area ${l?"unscrollable":""}`,ref:this.setRef,children:[t.map(v=>{const g=v.get("params",null)===null?null:v.get("params").toJS(),_=g&&g.other?g.other:{};return e.jsx(mt,{fetchComponent:ss[v.get("id")],loading:this.renderLoading(v.get("id")),error:this.renderError,children:s=>e.jsx(s,{columnId:v.get("uuid"),params:g,multiColumn:!0,..._})},v.get("uuid"))}),S.Children.map(r,v=>S.cloneElement(v,{multiColumn:!0}))]})}}C(Ot,"propTypes",{columns:tn.list.isRequired,isModalOpen:le.bool.isRequired,singleColumn:le.bool,children:le.node});const is=n=>({columns:n.getIn(["settings","columns"]),isModalOpen:!!n.get("modal").modalType}),cs=F(is,null,null,{forwardRef:!0})(Ot),ls=({multiColumn:n,children:p})=>{const t=ke(),r=n&&t.pathname.startsWith("/deck")?{...t,pathname:t.pathname.slice(5)}:t;return e.jsx(qn,{location:r,children:S.Children.map(p,c=>c?S.cloneElement(c,{multiColumn:n}):null)})};class j extends S.Component{constructor(){super(...arguments);C(this,"state",{hasError:!1,stacktrace:""});C(this,"renderComponent",({match:t})=>{const{component:r,content:c,multiColumn:l,componentParams:m}=this.props,{hasError:v,stacktrace:g}=this.state;return v?e.jsx(oe,{stacktrace:g,multiColumn:l,errorType:"error"}):e.jsx(mt,{fetchComponent:r,loading:this.renderLoading,error:this.renderError,children:_=>e.jsx(_,{params:t.params,multiColumn:l,...m,children:c})})});C(this,"renderLoading",()=>{const{multiColumn:t}=this.props;return e.jsx(Lt,{multiColumn:t})});C(this,"renderError",t=>e.jsx(oe,{...t,errorType:"network"}))}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t){kt.fromError(t).then(r=>{this.setState({stacktrace:t.toString()+`
`+r.map(c=>c.toString()).join(`
`)})}).catch(r=>{console.error(r)})}render(){const{component:t,content:r,...c}=this.props;return e.jsx(Ne,{...c,render:this.renderComponent})}}C(j,"defaultProps",{componentParams:{}});const us=G({beforeUnload:{id:"ui.beforeunload",defaultMessage:"Your draft will be lost if you leave Mastodon."}}),ds=n=>({layout:n.getIn(["meta","layout"]),isComposing:n.getIn(["compose","is_composing"]),hasComposingText:n.getIn(["compose","text"]).trim().length!==0,hasMediaAttachments:n.getIn(["compose","media_attachments"]).size>0,canUploadMore:!n.getIn(["compose","media_attachments"]).some(p=>["audio","video"].includes(p.get("type")))&&n.getIn(["compose","media_attachments"]).size<n.getIn(["server","server","configuration","statuses","max_media_attachments"]),firstLaunch:n.getIn(["settings","introductionVersion"],0)<Rn,newAccount:!n.getIn(["accounts",$,"note"])&&!n.getIn(["accounts",$,"bot"])&&n.getIn(["accounts",$,"following_count"],0)===0&&n.getIn(["accounts",$,"statuses_count"],0)===0,username:n.getIn(["accounts",$,"username"])}),hs={help:"?",new:"n",search:["s","/"],forceNew:"option+n",toggleComposeSpoilers:"option+x",focusColumn:["1","2","3","4","5","6","7","8","9"],reply:"r",favourite:"f",boost:"b",mention:"m",open:["enter","o"],openProfile:"p",moveDown:["down","j"],moveUp:["up","k"],back:"backspace",goToHome:"g h",goToNotifications:"g n",goToLocal:"g l",goToFederated:"g t",goToDirect:"g d",goToStart:"g s",goToFavourites:"g f",goToPinned:"g p",goToProfile:"g u",goToBlocked:"g b",goToMuted:"g m",goToRequests:"g r",toggleHidden:"x",toggleSensitive:"h",openMedia:"e",onTranslate:"t"};class ps extends S.PureComponent{constructor(){super(...arguments);C(this,"setRef",t=>{t&&(this.node=t)})}UNSAFE_componentWillMount(){this.props.singleColumn?(document.body.classList.toggle("layout-single-column",!0),document.body.classList.toggle("layout-multiple-columns",!1)):(document.body.classList.toggle("layout-single-column",!1),document.body.classList.toggle("layout-multiple-columns",!0))}componentDidUpdate(t){[this.props.location.pathname,"/"].includes(t.location.pathname)||this.node.handleChildrenContentChange(),t.singleColumn!==this.props.singleColumn&&(document.body.classList.toggle("layout-single-column",this.props.singleColumn),document.body.classList.toggle("layout-multiple-columns",!this.props.singleColumn))}render(){var g;const{children:t,singleColumn:r,forceOnboarding:c}=this.props,{signedIn:l}=this.props.identity,m=this.props.location.pathname;let v;return l?c?v=e.jsx(P,{from:"/",to:"/start",exact:!0}):r?v=e.jsx(P,{from:"/",to:"/home",exact:!0}):v=e.jsx(P,{from:"/",to:"/deck/getting-started",exact:!0}):On&&ce&&((g=z)!=null&&g.accounts[ce])?v=e.jsx(P,{from:"/",to:`/@${z.accounts[ce].username}`,exact:!0}):pt&&In?v=e.jsx(P,{from:"/",to:"/explore",exact:!0}):v=e.jsx(P,{from:"/",to:"/about",exact:!0}),e.jsx(Nr,{multiColumn:!r,children:e.jsx(cs,{ref:this.setRef,singleColumn:r,children:e.jsxs(ls,{children:[v,r?e.jsx(P,{from:"/deck",to:"/home",exact:!0}):null,r&&m.startsWith("/deck/")?e.jsx(P,{from:m,to:{...this.props.location,pathname:m.slice(5)}}):null,!r&&m==="/getting-started"?e.jsx(P,{from:"/getting-started",to:"/deck/getting-started",exact:!0}):null,!r&&m==="/home"?e.jsx(P,{from:"/home",to:"/deck/getting-started",exact:!0}):null,e.jsx(j,{path:"/getting-started",component:Jn,content:t}),e.jsx(j,{path:"/keyboard-shortcuts",component:Yn,content:t}),e.jsx(j,{path:"/about",component:Xn,content:t}),e.jsx(j,{path:"/privacy-policy",component:er,content:t}),e.jsx(j,{path:"/terms-of-service/:date?",component:tr,content:t}),e.jsx(j,{path:["/home","/timelines/home"],component:Ct,content:t}),e.jsx(P,{from:"/timelines/public",to:"/public",exact:!0}),e.jsx(P,{from:"/timelines/public/local",to:"/public/local",exact:!0}),e.jsx(j,{path:"/public",exact:!0,component:ue,componentParams:{feedType:"public"},content:t}),e.jsx(j,{path:"/public/local",exact:!0,component:ue,componentParams:{feedType:"community"},content:t}),e.jsx(j,{path:"/public/remote",exact:!0,component:ue,componentParams:{feedType:"public:remote"},content:t}),e.jsx(j,{path:["/conversations","/timelines/direct"],component:yt,content:t}),e.jsx(j,{path:"/tags/:id",component:be,content:t}),e.jsx(j,{path:"/links/:url",component:nr,content:t}),e.jsx(j,{path:"/lists/new",component:He,content:t}),e.jsx(j,{path:"/lists/:id/edit",component:He,content:t}),e.jsx(j,{path:"/lists/:id/members",component:rr,content:t}),e.jsx(j,{path:"/lists/:id",component:xe,content:t}),e.jsx(j,{path:"/notifications",component:wt,content:t,exact:!0}),e.jsx(j,{path:"/notifications/requests",component:or,content:t,exact:!0}),e.jsx(j,{path:"/notifications/requests/:id",component:sr,content:t,exact:!0}),e.jsx(j,{path:"/favourites",component:bt,content:t}),e.jsx(j,{path:"/bookmarks",component:xt,content:t}),e.jsx(j,{path:"/pinned",component:ar,content:t}),e.jsx(j,{path:["/start","/start/profile"],exact:!0,component:ir,content:t}),e.jsx(j,{path:"/start/follows",component:cr,content:t}),e.jsx(j,{path:"/directory",component:_t,content:t}),e.jsx(j,{path:"/explore",component:lr,content:t}),e.jsx(j,{path:"/search",component:ur,content:t}),e.jsx(j,{path:["/publish","/statuses/new"],component:jt,content:t}),e.jsx(j,{path:["/@:acct","/accounts/:id"],exact:!0,component:de,content:t}),e.jsx(j,{path:["/@:acct/featured","/accounts/:id/featured"],component:dr,content:t}),e.jsx(j,{path:"/@:acct/tagged/:tagged?",exact:!0,component:de,content:t}),e.jsx(j,{path:["/@:acct/with_replies","/accounts/:id/with_replies"],component:de,content:t,componentParams:{withReplies:!0}}),e.jsx(j,{path:["/accounts/:id/followers","/users/:acct/followers","/@:acct/followers"],component:hr,content:t}),e.jsx(j,{path:["/accounts/:id/following","/users/:acct/following","/@:acct/following"],component:pr,content:t}),e.jsx(j,{path:["/@:acct/media","/accounts/:id/media"],component:mr,content:t}),e.jsx(j,{path:"/@:acct/:statusId",exact:!0,component:Ge,content:t}),e.jsx(j,{path:"/@:acct/:statusId/reblogs",component:Be,content:t}),e.jsx(j,{path:"/@:acct/:statusId/favourites",component:Ue,content:t}),e.jsx(j,{path:"/timelines/tag/:id",component:be,content:t}),e.jsx(j,{path:"/timelines/list/:id",component:xe,content:t}),e.jsx(j,{path:"/statuses/:statusId",exact:!0,component:Ge,content:t}),e.jsx(j,{path:"/statuses/:statusId/reblogs",component:Be,content:t}),e.jsx(j,{path:"/statuses/:statusId/favourites",component:Ue,content:t}),e.jsx(j,{path:"/follow_requests",component:fr,content:t}),e.jsx(j,{path:"/blocks",component:gr,content:t}),e.jsx(j,{path:"/domain_blocks",component:vr,content:t}),e.jsx(j,{path:"/followed_tags",component:_r,content:t}),e.jsx(j,{path:"/mutes",component:xr,content:t}),e.jsx(j,{path:"/lists",component:br,content:t}),e.jsx(Ne,{component:oe})]})})})}}class ms extends S.PureComponent{constructor(){super(...arguments);C(this,"state",{draggingOver:!1});C(this,"handleBeforeUnload",t=>{const{intl:r,dispatch:c,isComposing:l,hasComposingText:m,hasMediaAttachments:v}=this.props;c(nn()),l&&(m||v)&&(t.preventDefault(),t.returnValue=r.formatMessage(us.beforeUnload))});C(this,"handleWindowFocus",()=>{this.props.dispatch(rn()),this.props.dispatch(on({immediate:!0}))});C(this,"handleWindowBlur",()=>{this.props.dispatch(sn())});C(this,"handleDragEnter",t=>{t.preventDefault(),this.dragTargets||(this.dragTargets=[]),this.dragTargets.indexOf(t.target)===-1&&this.dragTargets.push(t.target),t.dataTransfer&&Array.from(t.dataTransfer.types).includes("Files")&&this.props.canUploadMore&&this.props.identity.signedIn&&this.setState({draggingOver:!0})});C(this,"handleDragOver",t=>{if(this.dataTransferIsText(t.dataTransfer))return!1;t.preventDefault(),t.stopPropagation();try{t.dataTransfer.dropEffect="copy"}catch{}return!1});C(this,"handleDrop",t=>{this.dataTransferIsText(t.dataTransfer)||(t.preventDefault(),this.setState({draggingOver:!1}),this.dragTargets=[],t.dataTransfer&&t.dataTransfer.files.length>=1&&this.props.canUploadMore&&this.props.identity.signedIn&&this.props.dispatch(an(t.dataTransfer.files)))});C(this,"handleDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragTargets=this.dragTargets.filter(r=>r!==t.target&&this.node.contains(r)),!(this.dragTargets.length>0)&&this.setState({draggingOver:!1})});C(this,"dataTransferIsText",t=>t&&Array.from(t.types).filter(r=>r==="text/plain").length===1);C(this,"closeUploadModal",()=>{this.setState({draggingOver:!1})});C(this,"handleServiceWorkerPostMessage",({data:t})=>{t.type==="navigate"?this.props.history.push(t.path):console.warn("Unknown message type:",t.type)});C(this,"handleLayoutChange",cn(()=>{this.props.dispatch(ln())},500,{trailing:!0}));C(this,"handleResize",()=>{const t=dn();t!==this.props.layout?(this.handleLayoutChange.cancel(),this.props.dispatch(un({layout:t}))):this.handleLayoutChange()});C(this,"setRef",t=>{this.node=t});C(this,"handleHotkeyNew",t=>{t.preventDefault();const r=this.node.querySelector(".autosuggest-textarea__textarea");r&&r.focus()});C(this,"handleHotkeySearch",t=>{t.preventDefault();const r=this.node.querySelector(".search__input");r&&r.focus()});C(this,"handleHotkeyForceNew",t=>{this.handleHotkeyNew(t),this.props.dispatch(gn())});C(this,"handleHotkeyToggleComposeSpoilers",t=>{t.preventDefault(),this.props.dispatch(vn())});C(this,"handleHotkeyFocusColumn",t=>{const r=t.key*1+1,c=this.node.querySelector(`.column:nth-child(${r})`);if(!c)return;const l=c.querySelector(".scrollable");if(l){const m=l.querySelector(".focusable");m&&(l.scrollTop>m.offsetTop&&m.scrollIntoView(!0),m.focus())}});C(this,"handleHotkeyBack",t=>{var c,l;t.preventDefault();const{history:r}=this.props;(l=(c=r.location)==null?void 0:c.state)!=null&&l.fromMastodon?r.goBack():r.push("/")});C(this,"setHotkeysRef",t=>{this.hotkeys=t});C(this,"handleHotkeyToggleHelp",()=>{this.props.location.pathname==="/keyboard-shortcuts"?this.props.history.goBack():this.props.history.push("/keyboard-shortcuts")});C(this,"handleHotkeyGoToHome",()=>{this.props.history.push("/home")});C(this,"handleHotkeyGoToNotifications",()=>{this.props.history.push("/notifications")});C(this,"handleHotkeyGoToLocal",()=>{this.props.history.push("/public/local")});C(this,"handleHotkeyGoToFederated",()=>{this.props.history.push("/public")});C(this,"handleHotkeyGoToDirect",()=>{this.props.history.push("/conversations")});C(this,"handleHotkeyGoToStart",()=>{this.props.history.push("/getting-started")});C(this,"handleHotkeyGoToFavourites",()=>{this.props.history.push("/favourites")});C(this,"handleHotkeyGoToPinned",()=>{this.props.history.push("/pinned")});C(this,"handleHotkeyGoToProfile",()=>{this.props.history.push(`/@${this.props.username}`)});C(this,"handleHotkeyGoToBlocked",()=>{this.props.history.push("/blocks")});C(this,"handleHotkeyGoToMuted",()=>{this.props.history.push("/mutes")});C(this,"handleHotkeyGoToRequests",()=>{this.props.history.push("/follow_requests")})}componentDidMount(){const{signedIn:t}=this.props.identity;window.addEventListener("focus",this.handleWindowFocus,!1),window.addEventListener("blur",this.handleWindowBlur,!1),window.addEventListener("beforeunload",this.handleBeforeUnload,!1),window.addEventListener("resize",this.handleResize,{passive:!0}),document.addEventListener("dragenter",this.handleDragEnter,!1),document.addEventListener("dragover",this.handleDragOver,!1),document.addEventListener("drop",this.handleDrop,!1),document.addEventListener("dragleave",this.handleDragLeave,!1),document.addEventListener("dragend",this.handleDragEnd,!1),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",this.handleServiceWorkerPostMessage),t&&(this.props.dispatch(hn()),this.props.dispatch(pn()),this.props.dispatch(mn()),this.props.dispatch(fn()),setTimeout(()=>this.props.dispatch(Se()),3e3)),this.hotkeys.__mousetrap__.stopCallback=(r,c)=>["TEXTAREA","SELECT","INPUT"].includes(c.tagName)}componentWillUnmount(){window.removeEventListener("focus",this.handleWindowFocus),window.removeEventListener("blur",this.handleWindowBlur),window.removeEventListener("beforeunload",this.handleBeforeUnload),window.removeEventListener("resize",this.handleResize),document.removeEventListener("dragenter",this.handleDragEnter),document.removeEventListener("dragover",this.handleDragOver),document.removeEventListener("drop",this.handleDrop),document.removeEventListener("dragleave",this.handleDragLeave),document.removeEventListener("dragend",this.handleDragEnd)}render(){const{draggingOver:t}=this.state,{children:r,isComposing:c,location:l,layout:m,firstLaunch:v,newAccount:g}=this.props,_={help:this.handleHotkeyToggleHelp,new:this.handleHotkeyNew,search:this.handleHotkeySearch,forceNew:this.handleHotkeyForceNew,toggleComposeSpoilers:this.handleHotkeyToggleComposeSpoilers,focusColumn:this.handleHotkeyFocusColumn,back:this.handleHotkeyBack,goToHome:this.handleHotkeyGoToHome,goToNotifications:this.handleHotkeyGoToNotifications,goToLocal:this.handleHotkeyGoToLocal,goToFederated:this.handleHotkeyGoToFederated,goToDirect:this.handleHotkeyGoToDirect,goToStart:this.handleHotkeyGoToStart,goToFavourites:this.handleHotkeyGoToFavourites,goToPinned:this.handleHotkeyGoToPinned,goToProfile:this.handleHotkeyGoToProfile,goToBlocked:this.handleHotkeyGoToBlocked,goToMuted:this.handleHotkeyGoToMuted,goToRequests:this.handleHotkeyGoToRequests};return e.jsx(Pn.HotKeys,{keyMap:hs,handlers:_,ref:this.setHotkeysRef,attach:window,focused:!0,children:e.jsxs("div",{className:Me("ui",{"is-composing":c}),ref:this.setRef,children:[e.jsx(Lo,{}),e.jsx(ps,{identity:this.props.identity,location:l,singleColumn:m==="mobile"||m==="single-column",forceOnboarding:v&&g,children:r}),m!=="mobile"&&e.jsx(So,{}),e.jsx($n,{}),!An&&e.jsx(wo,{}),e.jsx(Ro,{}),e.jsx(Fn,{className:"loading-bar"}),e.jsx(Dn,{}),e.jsx(Ao,{active:t,onClose:this.closeUploadModal})]})})}}const fs=F(ds)(W(ft(ie(ms)))),ot=it()?De:`${De} (Dev)`,gs=_n(z);H.dispatch(gs);z.meta.me&&H.dispatch(xn());class vs extends S.PureComponent{constructor(){super(...arguments);C(this,"identity",bn(z))}componentDidMount(){this.identity.signedIn&&(this.disconnect=H.dispatch(Tn()))}componentWillUnmount(){this.disconnect&&(this.disconnect(),this.disconnect=null)}shouldUpdateScroll(t,{location:r}){var c,l,m,v;return!((c=r.state)!=null&&c.mastodonModalKey&&((l=r.state)==null?void 0:l.mastodonModalKey)!==((v=(m=t==null?void 0:t.location)==null?void 0:m.state)==null?void 0:v.mastodonModalKey))}render(){return e.jsx(yn.Provider,{value:this.identity,children:e.jsx(Zr,{children:e.jsx(wn,{store:H,children:e.jsxs(fo,{children:[e.jsx(Cn,{children:e.jsx(Sn,{shouldUpdateScroll:this.shouldUpdateScroll,children:e.jsx(Ne,{path:"/",component:fs})})}),e.jsx(dt,{defaultTitle:ot,titleTemplate:`%s - ${ot}`})]})})})})}}var I=typeof performance<"u"&&performance,st=I&&I.now?function(){return I.now()}:function(){return Date.now()};function Z(n){if(!n)throw new Error("name must be non-empty")}function _s(n,p){for(var t=0,r=n.length,c;t<r;)c=t+r>>>1,n[c].startTime<p.startTime?t=c+1:r=c;n.splice(t,0,p)}var ye,we;if(I&&I.mark&&I.measure&&I.getEntriesByName&&I.getEntriesByType&&I.clearMarks&&I.clearMeasures)ye=function(n){Z(n),I.mark("start "+n)},we=function(n){Z(n),I.mark("end "+n);var p=I.measure(n,"start "+n,"end "+n);if(p)return p;var t=I.getEntriesByName(n);return t[t.length-1]};else{var at={},xs=[];ye=function(n){Z(n);var p=st();at["$"+n]=p},we=function(n){Z(n);var p=st(),t=at["$"+n];if(!t)throw new Error("no known mark: "+n);var r={startTime:t,name:n,duration:p-t,entryType:"measure"};return _s(xs,r),r}}function bs(n){Ce()&&ye(n)}function ys(n){Ce()&&we(n)}function ws(){return bs("main()"),Kr(async()=>{const n=document.getElementById("mastodon");if(!n)throw new Error("Mount node not found");const p=JSON.parse(n.getAttribute("data-props")??"{}");if($t.createRoot(n).render(e.jsx(vs,{...p})),H.dispatch(jn()),it()&&$&&"serviceWorker"in navigator){const{Workbox:r}=await Oe(async()=>{const{Workbox:m}=await import("../workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:m}},[]),c=new r(Ce()?"/packs-dev/dev-sw.js?dev-sw":"/sw.js",{type:"module",scope:"/"});let l;try{l=await c.register()}catch(m){console.error(m)}if(l&&"Notification"in window&&Notification.permission==="granted"){const m=await Oe(()=>import("../push_notifications-index-CIbZT9Js.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]));H.dispatch(m.register())}}ys("main()")})}Jr().then(Rt).then(ws).catch(n=>{console.error(n)});
//# sourceMappingURL=application-kxEV0bJ4.js.map
